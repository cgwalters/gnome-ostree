From 8948758fdf56c71c1d2aede492c31bb103d1b442 Mon Sep 17 00:00:00 2001
From: Colin Walters <walters@verbum.org>
Date: Mon, 21 May 2012 18:37:20 -0400
Subject: [PATCH] build: Implement minimal GNOME Build API

One more step on the road to entirely eliminating the concept of
packages.  I adapted the installation rules from the Fedora
spec file.

They should clearly be less lame, but to do so we'd need more formal
rules about which files should be installed.  Maybe just limit it to
things ending in ".bin" or ".fw"?

See http://people.gnome.org/~walters/docs/build-api.txt
---
 Makefile  |   12 ++++++++++++
 configure |    4 ++++
 2 files changed, 16 insertions(+), 0 deletions(-)
 create mode 100644 Makefile
 create mode 100755 configure

diff --git a/Makefile b/Makefile
new file mode 100644
index 0000000..321a4e2
--- /dev/null
+++ b/Makefile
@@ -0,0 +1,12 @@
+# This file implements the GNOME Build API:
+# http://people.gnome.org/~walters/docs/build-api.txt
+
+FIRMWAREDIR = /lib/firmware
+
+all:
+
+install:
+	mkdir -p $(DESTDIR)$(FIRMWAREDIR)
+	cp -r * $(DESTDIR)$(FIRMWAREDIR)
+	rm -f $(DESTDIR)/usbdux/*dux $(DESTDIR)/*/*.asm
+	rm $(DESTDIR)$(FIRMWAREDIR)/{WHENCE,LICENSE.*,LICENCE.*}
diff --git a/configure b/configure
new file mode 100755
index 0000000..3260f9a
--- /dev/null
+++ b/configure
@@ -0,0 +1,4 @@
+#!/bin/bash
+# -*- mode: sh -*-
+# Our Makefile doesn't do srcdir != builddir
+#buildapi-variable-no-builddir
-- 
1.7.7.6

